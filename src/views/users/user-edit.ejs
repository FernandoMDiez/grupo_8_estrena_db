<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="/css/style-registro.css">
  <link rel="stylesheet" href="/css/style-general.css">
  <title>Editar</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body>
  <!-- se obtiene el header de la carpeta  Partials -->
  <%- include("../partials/header") %>

    <main>

      <form data-bs-theme="dark" class="form p-3 text-body bg-body" method="POST"
        action="/users/user-edit/<%= userE.id %>" enctype="multipart/form-data">
        <div class="register-container">
          <h1 class="title">Editar Cuenta</h1>
          <div class="inputs">
            <label for="firstName">Nombre</label>
            <input type="text" name="firstName" id="firstName" placeholder="Nombre" value="<%= userE.firstName %>">
            <% if (typeof errors!="undefined" && errors !="" ) { %>
              <% errors.forEach(error=> { %>
                <% if (error.param=="firstName" ) { %>
                  <!--    <p>Errores: <%= error.msg %>-->
                  <!--   </p>-->
                  <% } %>
                    <% }) %>
                      <% } %>

          </div>
          <div class="inputs">
            <label for="lastName">Apellido</label>
            <input type="text" name="lastName" id="lastName" placeholder="Apellido" value="<%= userE.lastName %>">
            <% if (typeof errors!="undefined" ) { %>
              <% errors.forEach(error=> { %>
                <% if (error.param=="lastName" ) { %>
                  <p>Errores: <%= error.msg %>
                  </p>
                  <% } %>
                    <% }) %>
                      <% } %>
          </div>

          <!--  Se cargan las imagenes -->
          <div class="info-input">
            <div>
              <p>Imagen Actual:</p><img src="/images/users/<%= userE.image %>" alt="">
            </div>
            <label for="image">Imagen</label>
            <img src="" alt="">
            <input type="file" id="image" name="image">
          </div>
          <!--  Se cargan las imagenes -->

          <div class="inputs">
            <label for="tel">Telefono</label>
            <input type="tel" name="tel" id="tel" placeholder="Telefono" value="<%= userE.tel %>">
            <% if (typeof errors!="undefined" ) { %>
              <% errors.forEach(error=> { %>
                <% if (error.param=="tel" ) { %>
                  <p>Errores: <%= error.msg %>
                  </p>
                  <% } %>
                    <% }) %>
                      <% } %>
          </div>


          <!--  Aqui se cargan las categorias dinamicamente -->
          <div class="inputs">
            <p>Perfil Actual: <%= perfilN.namePerfil %>
            </p>
            <label for="perfilId">Perfil</label>
            <select name="perfilId" id="perfilId" required>
              <option>Seleccionar</option>
              <% perfilTodo.forEach(perfil=> { %>
                <option value="<%=perfil.id%>">
                  <%=perfil.namePerfil%>
                </option>
                <% }) %>
            </select>
            <% if (typeof errors!="undefined" ) { %>
              <% errors.forEach(error=> { %>
                <% if (error.param=="perfilId" ) { %>
                  <p>Errores: <%= error.msg %>
                  </p>
                  <% } %>
                    <% }) %>
                      <% } %>
          </div>

          <!--  Aqui se cargan las categorias dinamicamente -->
          <div class="inputs">
            <label for="email">E-mail</label>
            <input type="email" name="email" id="email" placeholder="Mail" value="<%= userE.email %>">
            <% if (typeof errors!="undefined" ) { %>
              <% errors.forEach(error=> { %>
                <% if (error.param=="email" ) { %>
                  <p>Errores: <%= error.msg %>
                  </p>
                  <% } %>
                    <% }) %>
                      <% } %>
          </div>
          <div class="inputs">
            <label for="password">Contrae単a</label>
            <input type="password" name="password" id="password" placeholder="Contrae単a">
            <% if (typeof errors!="undefined" ) { %>
              <% errors.forEach(error=> { %>
                <% if (error.param=="password" ) { %>
                  <p>Errores: <%= error.msg %>
                  </p>
                  <% } %>
                    <% }) %>
                      <% } %>
          </div>

          <div class="inputs">
            <label for="confirmPassword">Confirmar contrase単a</label>
            <input type="password" name="confirmPassword" id="confirmPassword" placeholder="Confirmar contrase単a">
            <% if (typeof errors!="undefined" ) { %>
              <% errors.forEach(error=> { %>
                <% if (error.param=="confirmPassword" ) { %>
                  <p>Errores: <%= error.msg %>
                  </p>
                  <% } %>
                    <% }) %>
                      <% } %>
          </div>



          <div class="account-buttons">
            <button type="submit" class="btn btn-primary">Guardar</button>
            <a class="btn btn-secondary" href="/users/user-list">Cancelar</a>
          </div>



          <p>O Ingresar con: </p>
          <div class="socialmedia-buttons">
            <button type="submit" class="socialmedia">
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/51/Facebook_f_logo_%282019%29.svg/2048px-Facebook_f_logo_%282019%29.svg.png"
                alt="">
            </button>
            <button type="submit" class="socialmedia">
              <img src="https://rotulosmatesanz.com/wp-content/uploads/2017/09/2000px-Google_G_Logo.svg_.png" alt="">
            </button>
            <button type="submit" class="socialmedia">
              <img
                src="https://www.canaljesustv.com/wp-content/uploads/2016/06/twitter-round-logo-png-transparent-background-7.png"
                alt="">
            </button>
          </div>

        </div>
      </form>




    </main>
    <!-- se obtiene el footer de la carpeta Partials -->

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
      integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
      crossorigin="anonymous"></script>
    <script src="/js/editarPerfil.js"></script>
</body>

</html>